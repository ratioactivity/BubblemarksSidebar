<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BubblePet</title>
    <link
      rel="preload"
      href="./fonts/Papernotes.ttf"
      as="font"
      type="font/ttf"
      crossorigin
    />
    <link
      rel="preload"
      href="./fonts/Bigbesty.ttf"
      as="font"
      type="font/ttf"
      crossorigin
    />
    <link rel="stylesheet" href="pet.css" />
  </head>
  <body>
    <div class="aquarium-container">
      <div class="pet-container pet-card">
        
        <!-- HEADER -->
        <div class="pet-header">
          <div class="pet-meta-row">
            <span class="pet-level">Lv. 1</span>
            <div class="xp-bar-container">
              <div id="xp-bar-fill"></div>
            </div>
            <div id="xp-text">0 / 30 XP</div>
          </div>
          <div class="pet-name-wrap">
            <span class="pet-name">Pico</span>
          </div>
          <div class="xp-bar-container">
            <div id="xp-bar-fill"></div>
          </div>
          <div id="xp-text">0 / 30 XP</div>
        </div>

        <!-- AQUARIUM -->
        <div class="tank-window">
          <img id="achievement-popup" src="assets/sparkles.gif" class="hidden popup-sparkles" />
          <img
            id="achievement-button"
            class="achievement-icon"
            src="assets/achievement.gif"
            alt="Achievements"
          />
          <img
            id="disc-player-button"
            src="./assets/icon-player.png"
            alt="Open music disc player"
            class="disc-player-icon"
          />
          <div class="aquarium-window">
            <img src="./assets/background.png" alt="tank background" class="aquarium-bg" />
            <div class="axolotl">
              <img id="pet-sprite" src="./assets/resting.gif" alt="Axolotl sprite" />
            </div>
          </div>
          <img
            id="pet-overlay"
            class="pet-overlay"
            src=""
            alt=""
            aria-hidden="true"
          />
        </div>

        <!-- MESSAGE BAR -->
        <div class="disc-reward-slot">
          <img
            id="disc-reward-icon"
            class="pet-disc-icon"
            src=""
            alt="Music disc reward icon"
            style="display: none;"
          />
        </div>
        <div class="message-bar">Pico looks happy today!</div>

        <!-- MUSIC PLAYER -->
        <audio id="music-player" controls style="display:none; width: 100%; margin: 6px 0 4px 0;">
          <source
            id="music-source"
            src="./sounds/Infinite Amethyst.mp3"
            type="audio/mpeg"
          />
          Your browser does not support the audio element.
        </audio>

        <!-- STATS -->
        <div class="status-bars">
          <div class="stat"><div class="stat-bar" data-label="Hunger"><div class="stat-fill" style="width: 40%"></div></div></div>
          <div class="stat"><div class="stat-bar" data-label="Sleepiness"><div class="stat-fill" style="width: 20%"></div></div></div>
          <div class="stat"><div class="stat-bar" data-label="Boredom"><div class="stat-fill" style="width: 60%"></div></div></div>
          <div class="stat"><div class="stat-bar" data-label="Overstim."><div class="stat-fill" style="width: 30%"></div></div></div>
          <div class="stat"><div class="stat-bar" data-label="Affection"><div class="stat-fill" style="width: 50%"></div></div></div>
        </div>

        <!-- ACTION BUTTONS -->
        <div id="pet-buttons" class="pet-actions">
          <button data-action="feed">Feed</button>
          <button data-action="pet">Pet</button>
          <button data-action="swim">Swim</button>
          <button data-action="rest">Rest</button>
          <button data-action="sleep">Sleep</button>
          <button data-action="roam">Roam</button>
        </div>

        <!-- ★ STAR DECORATIONS (keep these at the very end) ★ -->
        <img src="./assets/stars-top-left.png" class="stars stars-top-left" alt="" />
        <img src="./assets/stars-white-top.png" class="stars stars-white-top" alt="" />
        <img src="./assets/stars-white-bottom.png" class="stars stars-white-bottom" alt="" />
        <img src="./assets/stars-btm-right.png" class="stars stars-btm-right" alt="" />

      </div> <!-- end .pet-container -->
    </div> <!-- end .aquarium-container -->

    <div id="achievement-modal" class="ach-modal hidden">
      <div class="ach-modal-content">
        <div class="ach-modal-header">
          <span class="ach-modal-title">Achievements</span>
          <button id="ach-close" class="ach-close-btn">✕</button>
        </div>

        <div id="achievement-list" class="achievement-list"></div>

        <div class="ach-footer">
          <span>Select a background reward below:</span>
          <div id="background-list" class="background-list"></div>
        </div>
      </div>
    </div>

    <div id="disc-player-modal" class="disc-modal hidden">
      <div class="disc-modal-content">
        <div class="disc-modal-header">
          <span class="disc-modal-title">Music Discs</span>
          <button id="disc-modal-close" class="disc-modal-close">✕</button>
        </div>

        <div id="now-playing" class="now-playing">Now Playing: None</div>

        <div class="random-toggle">
          <label>
            <input type="checkbox" id="randomize-music" />
            Random Mode
          </label>
        </div>

        <div id="disc-list" class="disc-list"></div>

        <button id="stop-music" class="disc-stop-btn">Stop Music</button>
      </div>
    </div>

    <script src="../shared/petManager.js"></script>
    <script src="../roaming/roamController.js"></script>
    <script src="pet.js"></script>
  </body>
</html>
